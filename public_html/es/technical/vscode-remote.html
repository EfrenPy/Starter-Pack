<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' https://cdn.buymeacoffee.com; connect-src 'self'">
  <meta name="view-transition" content="same-origin">
  <meta name="description" content="Guia para usar VS Code Remote via WSL en Windows para conectarse a CERN lxplus y otros servidores Linux.">
  <meta property="og:title" content="VS Code Remote a CERN lxplus - CERN Starter Pack">
  <meta property="og:description" content="Guia paso a paso para conectar VS Code a CERN lxplus usando WSL y SSH en Windows.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://starter-pack.efrenrodriguezrodriguez.com/es/technical/vscode-remote.html">
  <meta property="og:locale" content="es_ES">
  <meta property="og:image" content="https://starter-pack.efrenrodriguezrodriguez.com/images/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://starter-pack.efrenrodriguezrodriguez.com/images/og-image.png">
  <meta name="twitter:title" content="VS Code Remote a CERN lxplus - CERN Starter Pack">
  <meta name="twitter:description" content="Guia paso a paso para conectar VS Code a CERN lxplus usando WSL y SSH en Windows.">
  <link rel="canonical" href="https://starter-pack.efrenrodriguezrodriguez.com/es/technical/vscode-remote.html">
  <link rel="alternate" hreflang="es" href="https://starter-pack.efrenrodriguezrodriguez.com/es/technical/vscode-remote.html">
  <link rel="alternate" hreflang="en" href="https://starter-pack.efrenrodriguezrodriguez.com/en/technical/vscode-remote.html">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <title>Guia: VS Code Remote (WSL en Windows) a CERN lxplus</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../../css/styles.css">
  <script>(function(){var t=localStorage.getItem('theme');if(!t)t=matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light';document.documentElement.setAttribute('data-theme',t)})()</script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Desarrollo Remoto con VS Code en el CERN",
    "description": "Guía de configuración de VS Code Remote SSH y WSL con los servidores lxplus del CERN.",
    "author": { "@type": "Person", "name": "Efrén Rodríguez Rodríguez" },
    "publisher": { "@type": "Organization", "name": "CERN Starter Pack", "url": "https://starter-pack.efrenrodriguezrodriguez.com" },
    "datePublished": "2025-06-01",
    "dateModified": "2026-02-01",
    "inLanguage": "es",
    "mainEntityOfPage": "https://starter-pack.efrenrodriguezrodriguez.com/es/technical/vscode-remote.html"
  }
  </script>
</head>
<body>
  <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
  <div id="navbar-placeholder"></div>

  <nav class="breadcrumbs" aria-label="Migas de pan">
    <a href="../index.html">Inicio</a>
    <span class="breadcrumbs__sep">/</span>
    <a href="../technical-hub.html">Ayuda Tecnica</a>
    <span class="breadcrumbs__sep">/</span>
    <span>VS Code Remote via WSL</span>
  </nav>

  <main id="main-content">
    <div class="container">
      <h1>Usar VS Code Remote via WSL en Windows para Conectarse a CERN lxplus (y Otros Servidores Linux)</h1>
      <h2>1. Instalar y Configurar WSL y SSH en Windows</h2>
      <p>En Windows 10/11 puedes habilitar el Subsistema de Windows para Linux (WSL) ejecutando el comando <code>wsl --install</code> en un PowerShell con permisos elevados. Esto instalara la distribucion Linux por defecto (normalmente Ubuntu) y la configurara. Una vez instalado WSL y reiniciado el sistema, abre la terminal de Linux (Ubuntu). Deberas tener un cliente SSH disponible (Ubuntu suele incluir <code>openssh-client</code> por defecto). Si no esta presente, instalalo con <code>sudo apt update && sudo apt install openssh-client</code>. (Windows tambien ofrece un cliente OpenSSH, pero usar el SSH de WSL asegura que uses la misma configuracion y archivos de claves de estilo Linux que tus otras herramientas.)</p>
      <p><strong>Consejo opcional:</strong> Se recomienda usar WSL 2 (que tiene un kernel Linux completo) para mejor compatibilidad. Puedes comprobar tu version de WSL con <code>wsl -l -v</code> y actualizar si es necesario.</p>
    </div>

    <div class="container">
      <h2>2. Instalar y Configurar VS Code y Remote-SSH</h2>
      <p>Instala Visual Studio Code en Windows si aun no lo tienes. Durante la instalacion, elige la opcion "Agregar al PATH" para poder abrirlo desde la terminal con <code>code .</code>. Una vez instalado VS Code, abrelo e instala la extension <strong>Remote - SSH</strong> desde el Marketplace de extensiones. (Si planeas abrir VS Code desde dentro de WSL, tambien puedes instalar la extension "Remote - WSL", pero los pasos clave a continuacion asumen que usas la extension Remote-SSH.)</p>
      <p>Despues de instalar Remote-SSH, configuralo para usar tu cliente SSH. Por defecto usara el <code>ssh</code> de tu sistema. Puedes dejarlo asi (usara el <code>ssh</code> de WSL cuando VS Code se lance desde WSL). Si VS Code no detecta el <code>ssh</code> de WSL, puedes crear un script wrapper (por ejemplo, <code>ssh.bat</code>) que llame a <code>wsl.exe ssh %*</code> y configurar el ajuste <code>remote.SSH.path</code> de VS Code para apuntar a ese archivo batch. Esto asegura que VS Code use la misma configuracion SSH y claves que tu entorno WSL.</p>
      <ul>
        <li><strong>Cliente OpenSSH:</strong> Asegurate de tener un cliente OpenSSH compatible instalado. En Windows normalmente esta disponible por defecto o puede habilitarse en Caracteristicas Opcionales. En WSL (Ubuntu), el comando <code>ssh</code> suele estar disponible.</li>
        <li><strong>VS Code:</strong> Instala VS Code (con "Agregar al PATH").</li>
        <li><strong>Extensiones:</strong> En las extensiones de VS Code, instala "Remote - SSH" (y opcionalmente "Remote - WSL" si usas WSL de forma nativa).</li>
        <li><strong>Configuracion inicial:</strong> Despues de la instalacion, presiona <code>F1</code> (o Ctrl+Shift+P) y selecciona "Remote-SSH: Connect to Host..." para comenzar a configurar un nuevo host SSH.</li>
      </ul>
    </div>

    <div class="container">
      <h2>3. Configurar Claves SSH en WSL</h2>
      <p>Se recomienda encarecidamente usar autenticacion basada en claves SSH para hosts remotos. En tu terminal WSL, genera un nuevo par de claves SSH si no tienes uno: por ejemplo, <code>ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa</code>, y sigue las instrucciones (puedes dejar la frase de paso vacia para inicio de sesion sin contrasena, o establecer una para mayor seguridad). Esto crea <code>~/.ssh/id_rsa</code> (clave privada) y <code>~/.ssh/id_rsa.pub</code> (clave publica).</p>
      <p>A continuacion, copia tu clave publica a lxplus: una forma es <code>ssh-copy-id usuario@lxplus.cern.ch</code>, que inicia sesion en lxplus e instala tu clave. Si <code>ssh-copy-id</code> no esta disponible, puedes anadir manualmente el contenido de <code>~/.ssh/id_rsa.pub</code> a <code>~/.ssh/authorized_keys</code> en lxplus (despues de iniciar sesion una vez con tu contrasena). Esto permite autenticarte sin contrasena.</p>
      <p><strong>Consejo:</strong> Asegurate de que tu archivo de clave privada sea seguro: <code>chmod 600 ~/.ssh/id_rsa</code> y <code>chmod 700 ~/.ssh</code>. SSH rechazara usar claves que sean accesibles por otros. Tambien puedes agregar tu clave al ssh-agent en WSL (<code>eval "$(ssh-agent -s)" && ssh-add ~/.ssh/id_rsa</code>) para no tener que introducir la frase de paso repetidamente.</p>
      <p>Una vez las claves esten en su lugar, prueba en WSL: <code>ssh usuario@lxplus.cern.ch</code> deberia iniciarte sesion sin contrasena. Esto confirma la configuracion de claves.</p>
    </div>

    <div class="container">
      <h2>4. Configurar el Acceso SSH a lxplus</h2>
      <p>Edita tu archivo de configuracion SSH de WSL <code>~/.ssh/config</code> (crealo si no existe) y agrega una entrada para lxplus. Por ejemplo:</p>
      <pre><code>Host lxplus
    HostName lxplus.cern.ch
    User tunombredeusuario
    IdentityFile ~/.ssh/id_rsa</code></pre>
      <p>Reemplaza <code>tunombredeusuario</code> con tu nombre de cuenta CERN. Con esta configuracion, puedes simplemente ejecutar <code>ssh lxplus</code> en lugar del nombre de host completo. VS Code tambien usara esta entrada cuando te conectes.</p>
      <p><strong>Proxy y hosts adicionales:</strong> Si necesitas conectarte a otras maquinas dentro de la red del CERN a traves de lxplus, puedes agregar mas entradas. Por ejemplo, para llegar a <code>otrohost.cern.ch</code> detras de lxplus:</p>
      <pre><code>Host otrohost
    HostName otrohost.cern.ch
    User tunombredeusuario
    ProxyJump lxplus</code></pre>
      <p>Esto usa lxplus como host de salto. Ahora <code>ssh otrohost</code> hara un tunel a traves de lxplus. Esto es similar al ejemplo de la documentacion del CERN.</p>
      <p><strong>Consejo de balanceo de carga:</strong> lxplus es un cluster front-end, asi que SSH va a nodos aleatorios. Para evitar que el servidor de VS Code se lance en diferentes nodos, habilita el multiplexado SSH: bajo la entrada <code>Host lxplus</code> agrega:</p>
      <pre><code>    ControlMaster auto
    ControlPath ~/.ssh/sockets/%r@%h-%p
    ControlPersist 60</code></pre>
      <p>Esto reutiliza la primera conexion para todas las sesiones posteriores, asegurando estabilidad. (Crea primero el directorio <code>~/.ssh/sockets</code>.)</p>
    </div>

    <div class="container">
      <h2>5. Conectarse a lxplus Usando VS Code</h2>
      <p>Con SSH configurado, inicia VS Code (puedes lanzarlo desde WSL ejecutando <code>code .</code> en una terminal WSL para asegurarte de que use el entorno Linux). En VS Code, abre la Paleta de Comandos (F1) y elige <code>Remote-SSH: Connect to Host...</code>, luego escribe <code>lxplus</code> (o <code>tunombredeusuario@lxplus.cern.ch</code>) como host. VS Code usara el cliente SSH para conectarse. Si se te solicita, acepta la clave del host de lxplus e introduce tu frase de paso si configuraste una.</p>
      <p>Una vez conectado, VS Code instalara sus componentes de servidor en lxplus. Tendras entonces una nueva ventana de VS Code (vacia) conectada a lxplus. Puedes abrir cualquier carpeta o espacio de trabajo remoto via Archivo -> Abrir. La terminal de VS Code ahora se ejecutara en lxplus, y podras trabajar con los archivos de forma transparente.</p>
      <p><strong>Extensiones en el remoto:</strong> Cuando te conectes por primera vez, VS Code puede pedirte que instales las extensiones necesarias en lxplus. Asegurate de que las extensiones de soporte de lenguaje (Python, C++, etc.) esten habilitadas en el contexto remoto.</p>
    </div>

    <div class="container">
      <h2>6. Generalizar a Otros Servidores Remotos</h2>
      <p>Conectarse a otros servidores Linux funciona de la misma manera. Para cada servidor, genera o reutiliza una clave SSH, instala la clave publica en el servidor (por ejemplo, usando <code>ssh-copy-id</code>), y agrega una entrada correspondiente en <code>~/.ssh/config</code>:</p>
      <pre><code>Host miservidor
    HostName miservidor.ejemplo.com
    User usuarioremoto
    IdentityFile ~/.ssh/id_rsa_miservidor</code></pre>
      <p>Luego usa "Remote-SSH: Connect to Host" en VS Code y selecciona <code>miservidor</code>. VS Code se conectara por SSH y abrira la carpeta remota. Tambien puedes conectarte a servidores Windows (si ejecutan un servidor SSH) de forma similar. El proceso de autenticacion por claves, entradas de configuracion y VS Code Remote es el mismo.</p>
      <p>Si el servidor usa un puerto no estandar, agrega una linea <code>Port</code> en la configuracion o incluye <code>-p</code> en el comando de conexion. Puedes encadenar multiples saltos con multiples entradas <code>Host</code> y <code>ProxyJump</code> si es necesario.</p>
    </div>

    <div class="container">
      <h2>7. Solucion de Problemas Comunes</h2>
      <p><strong>Permisos SSH:</strong> Si ves errores sobre permisos de archivo en tu clave privada o directorio <code>~/.ssh</code>, corrígelos (por ejemplo, <code>chmod 600 ~/.ssh/id_rsa</code>, <code>chmod 700 ~/.ssh</code>). SSH requiere permisos estrictos en claves y configuraciones.</p>
      <p><strong>La conexion se cuelga o falla:</strong> Revisa el registro de salida de "Remote - SSH" en VS Code (Ver -> Salida, selecciona "Remote - SSH") para pistas. Tambien puedes intentar conectarte manualmente por SSH desde WSL (por ejemplo, <code>ssh -v lxplus</code>) para depurar problemas. Asegurate de que los nombres de host y usuario en tu configuracion coincidan exactamente.</p>
      <p><strong>Usuario o host incorrecto:</strong> En VS Code, asegurate de conectarte usando <code>Usuario@Host</code> que coincida con tu <code>~/.ssh/config</code> (o usa el alias del host). Si VS Code usa la configuracion SSH incorrecta, configura <code>remote.SSH.configFile</code> para apuntar al <code>~/.ssh/config</code> de WSL (por ejemplo, <code>\\\\wsl$\\Ubuntu\\home\\usuario\\.ssh\\config</code>) para que use el mismo archivo.</p>
      <p><strong>Errores del servidor VS Code:</strong> Si el servidor remoto de VS Code no arranca, intenta eliminarlo en el host remoto: conectate via SSH normal y ejecuta <code>rm -rf ~/.vscode-server</code>, luego reconectate. Esto fuerza una reinstalacion limpia. Tambien asegurate de que tu directorio home en lxplus tenga suficiente espacio y no este en un sistema de archivos de red lento.</p>
      <p><strong>Usar el ssh de WSL en VS Code:</strong> Si VS Code no encuentra <code>ssh</code> o quieres que use el entorno de WSL, configura <code>remote.SSH.path</code> como se describio anteriormente. Esto asegura que VS Code ejecute el comando <code>ssh</code> dentro de WSL, usando tus claves y configuracion de Linux.</p>
      <p><strong>Balanceo de carga en lxplus:</strong> Si VS Code parece conectarse y luego se desconecta repentinamente (o tienes que introducir la contrasena de nuevo), podria estar cambiando de nodo. Usar ControlMaster (ver arriba) normalmente soluciona esto. Tambien asegurate de que el <code>HostName</code> sea <code>lxplus.cern.ch</code>, no un nombre de nodo especifico, a menos que sepas exactamente a que nodo conectarte.</p>
      <p><strong>Firewall y red:</strong> Si estas fuera del sitio (fuera de la red del CERN), puede que necesites configurar un tunel SSH o VPN para acceder a lxplus. La documentacion del CERN sugiere usar tuneles SSH o VPN para acceso fuera del campus. Consulta las guias de CERN IT si no puedes llegar a lxplus desde casa.</p>
    </div>

    <div class="container">
      <h2>Fuentes</h2>
      <ul>
        <li><a href="https://learn.microsoft.com/en-us/windows/wsl/install">Guia de Instalacion de WSL de Microsoft</a> – Instrucciones oficiales para instalar WSL en Windows.</li>
        <li><a href="https://code.visualstudio.com/docs/remote/ssh">VS Code Remote - SSH</a> (Docs de Microsoft) – Documentacion oficial sobre la instalacion y uso de la extension Remote-SSH.</li>
        <li><a href="https://code.visualstudio.com/docs/remote/wsl">VS Code Remote - WSL</a> (Docs de Microsoft) – Instrucciones para usar WSL con VS Code.</li>
        <li><a href="https://atlas-software.docs.cern.ch/athena/ide/ssh/">CERN ATLAS Software Docs: Uso de VS Code Remote con SSH</a> – Guia para usar VS Code con SSH en el CERN (incluye consejos sobre tuneles y ProxyJump).</li>
        <li><a href="https://bilpa.docs.cern.ch/guides/ssh/">Guia CERN BILPA: Remote-SSH</a> – Ejemplo de configuracion para conectar VS Code a hosts remotos via lxplus (con <code>ProxyJump</code>).</li>
        <li><a href="https://zitseng.com/archives/20325">Blog de Zit Seng: Usar WSL para Remote-SSH en VS Code</a> – Consejo comunitario sobre como configurar VS Code para usar el cliente SSH de WSL (usando un script wrapper).</li>
      </ul>
    </div>
    <div class="print-bar">
      <button class="btn btn--secondary" onclick="window.print()" data-i18n="vsc_print">&#128424; Imprimir esta guia</button>
    </div>
  </main>

  <div id="footer-placeholder"></div>
  <script type="module" src="../../scripts/pages/vscode-remote.js"></script>
</body>
</html>
